import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { TranslateService } from '@ngx-translate/core';
import { CompaniesService } from '../../companies/companies.service';
import { BannerMessageService } from '../../custom-components/banner-message/banner-message.service';
import { registerLocaleData } from '@angular/common';

@Component({
  selector: 'app-general-settings',
  templateUrl: './general-settings.component.html',
  styleUrls: ['./general-settings.component.scss']
})
export class GeneralSettingsComponent implements OnInit {
  public languageObject = [
    { NAME: this.translateService.instant('ARABIC'), CODE: 'ar' },
    { NAME: this.translateService.instant('CHINESE'), CODE: 'zh' },
    { NAME: this.translateService.instant('ENGLISH'), CODE: 'en' },
    { NAME: this.translateService.instant('FRENCH'), CODE: 'fr' },
    { NAME: this.translateService.instant('GERMAN'), CODE: 'de' },
    { NAME: this.translateService.instant('GREEK'), CODE: 'el' },
    { NAME: this.translateService.instant('HINDI'), CODE: 'hi' },
    { NAME: this.translateService.instant('ITALIAN'), CODE: 'it' },
    { NAME: this.translateService.instant('MALAY'), CODE: 'ms' },
    { NAME: this.translateService.instant('NORWEGIAN'), CODE: 'no' },
    { NAME: this.translateService.instant('PORTUGUESE'), CODE: 'pt' },
    { NAME: this.translateService.instant('RUSSION'), CODE: 'ru' },
    { NAME: this.translateService.instant('SPANISH'), CODE: 'es' }
  ];
  public timeZones = [
    'Africa/Abidjan',
    'Africa/Accra',
    'Africa/Addis_Ababa',
    'Africa/Algiers',
    'Africa/Asmara',
    'Africa/Asmera',
    'Africa/Bamako',
    'Africa/Bangui',
    'Africa/Banjul',
    'Africa/Bissau',
    'Africa/Blantyre',
    'Africa/Brazzaville',
    'Africa/Bujumbura',
    'Africa/Cairo',
    'Africa/Casablanca',
    'Africa/Ceuta',
    'Africa/Conakry',
    'Africa/Dakar',
    'Africa/Dar_es_Salaam',
    'Africa/Djibouti',
    'Africa/Douala',
    'Africa/El_Aaiun',
    'Africa/Freetown',
    'Africa/Gaborone',
    'Africa/Harare',
    'Africa/Johannesburg',
    'Africa/Juba',
    'Africa/Kampala',
    'Africa/Khartoum',
    'Africa/Kigali',
    'Africa/Kinshasa',
    'Africa/Lagos',
    'Africa/Libreville',
    'Africa/Lome',
    'Africa/Luanda',
    'Africa/Lubumbashi',
    'Africa/Lusaka',
    'Africa/Malabo',
    'Africa/Maputo',
    'Africa/Maseru',
    'Africa/Mbabane',
    'Africa/Mogadishu',
    'Africa/Monrovia',
    'Africa/Nairobi',
    'Africa/Ndjamena',
    'Africa/Niamey',
    'Africa/Nouakchott',
    'Africa/Ouagadougou',
    'Africa/Porto-Novo',
    'Africa/Sao_Tome',
    'Africa/Timbuktu',
    'Africa/Tripoli',
    'Africa/Tunis',
    'Africa/Windhoek',
    'America/Adak',
    'America/Anchorage',
    'America/Anguilla',
    'America/Antigua',
    'America/Araguaina',
    'America/Argentina/Buenos_Aires',
    'America/Argentina/Catamarca',
    'America/Argentina/ComodRivadavia',
    'America/Argentina/Cordoba',
    'America/Argentina/Jujuy',
    'America/Argentina/La_Rioja',
    'America/Argentina/Mendoza',
    'America/Argentina/Rio_Gallegos',
    'America/Argentina/Salta',
    'America/Argentina/San_Juan',
    'America/Argentina/San_Luis',
    'America/Argentina/Tucuman',
    'America/Argentina/Ushuaia',
    'America/Aruba',
    'America/Asuncion',
    'America/Atikokan',
    'America/Atka',
    'America/Bahia',
    'America/Bahia_Banderas',
    'America/Barbados',
    'America/Belem',
    'America/Belize',
    'America/Blanc-Sablon',
    'America/Boa_Vista',
    'America/Bogota',
    'America/Boise',
    'America/Buenos_Aires',
    'America/Cambridge_Bay',
    'America/Campo_Grande',
    'America/Cancun',
    'America/Caracas',
    'America/Catamarca',
    'America/Cayenne',
    'America/Cayman',
    'America/Chicago',
    'America/Chihuahua',
    'America/Coral_Harbour',
    'America/Cordoba',
    'America/Costa_Rica',
    'America/Creston',
    'America/Cuiaba',
    'America/Curacao',
    'America/Danmarkshavn',
    'America/Dawson',
    'America/Dawson_Creek',
    'America/Denver',
    'America/Detroit',
    'America/Dominica',
    'America/Edmonton',
    'America/Eirunepe',
    'America/El_Salvador',
    'America/Ensenada',
    'America/Fort_Nelson',
    'America/Fort_Wayne',
    'America/Fortaleza',
    'America/Glace_Bay',
    'America/Godthab',
    'America/Goose_Bay',
    'America/Grand_Turk',
    'America/Grenada',
    'America/Guadeloupe',
    'America/Guatemala',
    'America/Guayaquil',
    'America/Guyana',
    'America/Halifax',
    'America/Havana',
    'America/Hermosillo',
    'America/Indiana/Indianapolis',
    'America/Indiana/Knox',
    'America/Indiana/Marengo',
    'America/Indiana/Petersburg',
    'America/Indiana/Tell_City',
    'America/Indiana/Vevay',
    'America/Indiana/Vincennes',
    'America/Indiana/Winamac',
    'America/Indianapolis',
    'America/Inuvik',
    'America/Iqaluit',
    'America/Jamaica',
    'America/Jujuy',
    'America/Juneau',
    'America/Kentucky/Louisville',
    'America/Kentucky/Monticello',
    'America/Knox_IN',
    'America/Kralendijk',
    'America/La_Paz',
    'America/Lima',
    'America/Los_Angeles',
    'America/Louisville',
    'America/Lower_Princes',
    'America/Maceio',
    'America/Managua',
    'America/Manaus',
    'America/Marigot',
    'America/Martinique',
    'America/Matamoros',
    'America/Mazatlan',
    'America/Mendoza',
    'America/Menominee',
    'America/Merida',
    'America/Metlakatla',
    'America/Mexico_City',
    'America/Miquelon',
    'America/Moncton',
    'America/Monterrey',
    'America/Montevideo',
    'America/Montreal',
    'America/Montserrat',
    'America/Nassau',
    'America/New_York',
    'America/Nipigon',
    'America/Nome',
    'America/Noronha',
    'America/North_Dakota/Beulah',
    'America/North_Dakota/Center',
    'America/North_Dakota/New_Salem',
    'America/Ojinaga',
    'America/Panama',
    'America/Pangnirtung',
    'America/Paramaribo',
    'America/Phoenix',
    'America/Port-au-Prince',
    'America/Port_of_Spain',
    'America/Porto_Acre',
    'America/Porto_Velho',
    'America/Puerto_Rico',
    'America/Punta_Arenas',
    'America/Rainy_River',
    'America/Rankin_Inlet',
    'America/Recife',
    'America/Regina',
    'America/Resolute',
    'America/Rio_Branco',
    'America/Rosario',
    'America/Santa_Isabel',
    'America/Santarem',
    'America/Santiago',
    'America/Santo_Domingo',
    'America/Sao_Paulo',
    'America/Scoresbysund',
    'America/Shiprock',
    'America/Sitka',
    'America/St_Barthelemy',
    'America/St_Johns',
    'America/St_Kitts',
    'America/St_Lucia',
    'America/St_Thomas',
    'America/St_Vincent',
    'America/Swift_Current',
    'America/Tegucigalpa',
    'America/Thule',
    'America/Thunder_Bay',
    'America/Tijuana',
    'America/Toronto',
    'America/Tortola',
    'America/Vancouver',
    'America/Virgin',
    'America/Whitehorse',
    'America/Winnipeg',
    'America/Yakutat',
    'America/Yellowknife',
    'Antarctica/Casey',
    'Antarctica/Davis',
    'Antarctica/DumontDUrville',
    'Antarctica/Macquarie',
    'Antarctica/Mawson',
    'Antarctica/McMurdo',
    'Antarctica/Palmer',
    'Antarctica/Rothera',
    'Antarctica/South_Pole',
    'Antarctica/Syowa',
    'Antarctica/Troll',
    'Antarctica/Vostok',
    'Arctic/Longyearbyen',
    'Asia/Aden',
    'Asia/Almaty',
    'Asia/Amman',
    'Asia/Anadyr',
    'Asia/Aqtau',
    'Asia/Aqtobe',
    'Asia/Ashgabat',
    'Asia/Ashkhabad',
    'Asia/Atyrau',
    'Asia/Baghdad',
    'Asia/Bahrain',
    'Asia/Baku',
    'Asia/Bangkok',
    'Asia/Barnaul',
    'Asia/Beirut',
    'Asia/Bishkek',
    'Asia/Brunei',
    'Asia/Calcutta',
    'Asia/Chita',
    'Asia/Choibalsan',
    'Asia/Chongqing',
    'Asia/Chungking',
    'Asia/Colombo',
    'Asia/Dacca',
    'Asia/Damascus',
    'Asia/Dhaka',
    'Asia/Dili',
    'Asia/Dubai',
    'Asia/Dushanbe',
    'Asia/Famagusta',
    'Asia/Gaza',
    'Asia/Harbin',
    'Asia/Hebron',
    'Asia/Ho_Chi_Minh',
    'Asia/Hong_Kong',
    'Asia/Hovd',
    'Asia/Irkutsk',
    'Asia/Istanbul',
    'Asia/Jakarta',
    'Asia/Jayapura',
    'Asia/Jerusalem',
    'Asia/Kabul',
    'Asia/Kamchatka',
    'Asia/Karachi',
    'Asia/Kashgar',
    'Asia/Kathmandu',
    'Asia/Katmandu',
    'Asia/Khandyga',
    'Asia/Kolkata',
    'Asia/Krasnoyarsk',
    'Asia/Kuala_Lumpur',
    'Asia/Kuching',
    'Asia/Kuwait',
    'Asia/Macao',
    'Asia/Macau',
    'Asia/Magadan',
    'Asia/Makassar',
    'Asia/Manila',
    'Asia/Muscat',
    'Asia/Nicosia',
    'Asia/Novokuznetsk',
    'Asia/Novosibirsk',
    'Asia/Omsk',
    'Asia/Oral',
    'Asia/Phnom_Penh',
    'Asia/Pontianak',
    'Asia/Pyongyang',
    'Asia/Qatar',
    'Asia/Qyzylorda',
    'Asia/Rangoon',
    'Asia/Riyadh',
    'Asia/Saigon',
    'Asia/Sakhalin',
    'Asia/Samarkand',
    'Asia/Seoul',
    'Asia/Shanghai',
    'Asia/Singapore',
    'Asia/Srednekolymsk',
    'Asia/Taipei',
    'Asia/Tashkent',
    'Asia/Tbilisi',
    'Asia/Tehran',
    'Asia/Tel_Aviv',
    'Asia/Thimbu',
    'Asia/Thimphu',
    'Asia/Tokyo',
    'Asia/Tomsk',
    'Asia/Ujung_Pandang',
    'Asia/Ulaanbaatar',
    'Asia/Ulan_Bator',
    'Asia/Urumqi',
    'Asia/Ust-Nera',
    'Asia/Vientiane',
    'Asia/Vladivostok',
    'Asia/Yakutsk',
    'Asia/Yangon',
    'Asia/Yekaterinburg',
    'Asia/Yerevan',
    'Atlantic/Azores',
    'Atlantic/Bermuda',
    'Atlantic/Canary',
    'Atlantic/Cape_Verde',
    'Atlantic/Faeroe',
    'Atlantic/Faroe',
    'Atlantic/Jan_Mayen',
    'Atlantic/Madeira',
    'Atlantic/Reykjavik',
    'Atlantic/South_Georgia',
    'Atlantic/St_Helena',
    'Atlantic/Stanley',
    'Australia/ACT',
    'Australia/Adelaide',
    'Australia/Brisbane',
    'Australia/Broken_Hill',
    'Australia/Canberra',
    'Australia/Currie',
    'Australia/Darwin',
    'Australia/Eucla',
    'Australia/Hobart',
    'Australia/LHI',
    'Australia/Lindeman',
    'Australia/Lord_Howe',
    'Australia/Melbourne',
    'Australia/NSW',
    'Australia/North',
    'Australia/Perth',
    'Australia/Queensland',
    'Australia/South',
    'Australia/Sydney',
    'Australia/Tasmania',
    'Australia/Victoria',
    'Australia/West',
    'Australia/Yancowinna',
    'Brazil/Acre',
    'Brazil/DeNoronha',
    'Brazil/East',
    'Brazil/West',
    'Canada/Atlantic',
    'Canada/Central',
    'Canada/East-Saskatchewan',
    'Canada/Eastern',
    'Canada/Mountain',
    'Canada/Newfoundland',
    'Canada/Pacific',
    'Canada/Saskatchewan',
    'Canada/Yukon',
    'Chile/Continental',
    'Chile/EasterIsland',
    'Cuba',
    'Egypt',
    'Eire',
    'Europe/Amsterdam',
    'Europe/Andorra',
    'Europe/Astrakhan',
    'Europe/Athens',
    'Europe/Belfast',
    'Europe/Belgrade',
    'Europe/Berlin',
    'Europe/Bratislava',
    'Europe/Brussels',
    'Europe/Bucharest',
    'Europe/Budapest',
    'Europe/Busingen',
    'Europe/Chisinau',
    'Europe/Copenhagen',
    'Europe/Dublin',
    'Europe/Gibraltar',
    'Europe/Guernsey',
    'Europe/Helsinki',
    'Europe/Isle_of_Man',
    'Europe/Istanbul',
    'Europe/Jersey',
    'Europe/Kaliningrad',
    'Europe/Kiev',
    'Europe/Kirov',
    'Europe/Lisbon',
    'Europe/Ljubljana',
    'Europe/London',
    'Europe/Luxembourg',
    'Europe/Madrid',
    'Europe/Malta',
    'Europe/Mariehamn',
    'Europe/Minsk',
    'Europe/Monaco',
    'Europe/Moscow',
    'Europe/Nicosia',
    'Europe/Oslo',
    'Europe/Paris',
    'Europe/Podgorica',
    'Europe/Prague',
    'Europe/Riga',
    'Europe/Rome',
    'Europe/Samara',
    'Europe/San_Marino',
    'Europe/Sarajevo',
    'Europe/Saratov',
    'Europe/Simferopol',
    'Europe/Skopje',
    'Europe/Sofia',
    'Europe/Stockholm',
    'Europe/Tallinn',
    'Europe/Tirane',
    'Europe/Tiraspol',
    'Europe/Ulyanovsk',
    'Europe/Uzhgorod',
    'Europe/Vaduz',
    'Europe/Vatican',
    'Europe/Vienna',
    'Europe/Vilnius',
    'Europe/Volgograd',
    'Europe/Warsaw',
    'Europe/Zagreb',
    'Europe/Zaporozhye',
    'Europe/Zurich',
    'Greenwich',
    'Hongkong',
    'Iceland',
    'Indian/Antananarivo',
    'Indian/Chagos',
    'Indian/Christmas',
    'Indian/Cocos',
    'Indian/Comoro',
    'Indian/Kerguelen',
    'Indian/Mahe',
    'Indian/Maldives',
    'Indian/Mauritius',
    'Indian/Mayotte',
    'Indian/Reunion',
    'Iran',
    'Israel',
    'Jamaica',
    'Japan',
    'Kwajalein',
    'Libya',
    'Mexico/BajaNorte',
    'Mexico/BajaSur',
    'Mexico/General',
    'Pacific/Apia',
    'Pacific/Auckland',
    'Pacific/Bougainville',
    'Pacific/Chatham',
    'Pacific/Chuuk',
    'Pacific/Easter',
    'Pacific/Efate',
    'Pacific/Enderbury',
    'Pacific/Fakaofo',
    'Pacific/Fiji',
    'Pacific/Funafuti',
    'Pacific/Galapagos',
    'Pacific/Gambier',
    'Pacific/Guadalcanal',
    'Pacific/Guam',
    'Pacific/Honolulu',
    'Pacific/Johnston',
    'Pacific/Kiritimati',
    'Pacific/Kosrae',
    'Pacific/Kwajalein',
    'Pacific/Majuro',
    'Pacific/Marquesas',
    'Pacific/Midway',
    'Pacific/Nauru',
    'Pacific/Niue',
    'Pacific/Norfolk',
    'Pacific/Noumea',
    'Pacific/Pago_Pago',
    'Pacific/Palau',
    'Pacific/Pitcairn',
    'Pacific/Pohnpei',
    'Pacific/Ponape',
    'Pacific/Port_Moresby',
    'Pacific/Rarotonga',
    'Pacific/Saipan',
    'Pacific/Samoa',
    'Pacific/Tahiti',
    'Pacific/Tarawa',
    'Pacific/Tongatapu',
    'Pacific/Truk',
    'Pacific/Wake',
    'Pacific/Wallis',
    'Pacific/Yap',
    'Poland',
    'Portugal',
    'Singapore',
    'Turkey',
    'US/Alaska',
    'US/Aleutian',
    'US/Arizona',
    'US/Central',
    'US/East-Indiana',
    'US/Eastern',
    'US/Hawaii',
    'US/Indiana-Starke',
    'US/Michigan',
    'US/Mountain',
    'US/Pacific',
    'US/Pacific-New',
    'US/Samoa'
  ];

public locales=[
{'NAME': this.translateService.instant('af-NA'), 'CODE':'af-NA'},
{'NAME':this.translateService.instant('af'),'CODE':'af'},
{'NAME':this.translateService.instant('ak'),'CODE':'ak'},
{'NAME':this.translateService.instant('sq'),'CODE':'sq'},
{'NAME':this.translateService.instant('am'),'CODE':'am'},
{'NAME':this.translateService.instant('ar-DZ'),'CODE':'ar-DZ'},
{'NAME':this.translateService.instant('ar-BH'),'CODE':'ar-BH'},
{'NAME':this.translateService.instant('ar-EG'),'CODE':'ar-EG'},
{'NAME':this.translateService.instant('ar-IQ'),'CODE':'ar-IQ'},
{'NAME':this.translateService.instant('ar-JO'),'CODE':'ar-JO'},
{'NAME':this.translateService.instant('ar-KW'),'CODE':'ar-KW'},
{'NAME':this.translateService.instant('ar-LB'),'CODE':'ar-LB'},
{'NAME':this.translateService.instant('ar-LY'),'CODE':'ar-LY'},
{'NAME':this.translateService.instant('ar-MA'),'CODE':'ar-MA'},
{'NAME':this.translateService.instant('ar-OM'),'CODE':'ar-OM'},
{'NAME':this.translateService.instant('ar-QA'),'CODE':'ar-QA'},
{'NAME':this.translateService.instant('ar-SA'),'CODE':'ar-SA'},
{'NAME':this.translateService.instant('ar-SD'),'CODE':'ar-SD'},
{'NAME':this.translateService.instant('ar-SY'),'CODE':'ar-SY'},
{'NAME':this.translateService.instant('ar-TN'),'CODE':'ar-TN'},
{'NAME':this.translateService.instant('ar-AE'),'CODE':'ar-AE'},
{'NAME':this.translateService.instant('ar-YE'),'CODE':'ar-YE'},
{'NAME':this.translateService.instant('ar'),'CODE':'ar'},
{'NAME':this.translateService.instant('hy'),'CODE':'hy'},
{'NAME':this.translateService.instant('as'),'CODE':'as'},
{'NAME':this.translateService.instant('asa'),'CODE':'asa'},
{'NAME':this.translateService.instant('az-Cyrl'),'CODE':'az-Cyrl'},
{'NAME':this.translateService.instant('az-Latn'),'CODE':'az-Latn'},
{'NAME':this.translateService.instant('az'),'CODE':'az'},
{'NAME':this.translateService.instant('bm'),'CODE':'bm'},
{'NAME':this.translateService.instant('eu'),'CODE':'eu'},
{'NAME':this.translateService.instant('be'),'CODE':'be'},
{'NAME':this.translateService.instant('bem'),'CODE':'bem'},
{'NAME':this.translateService.instant('bez'),'CODE':'bez'},
{'NAME':this.translateService.instant('bn-IN'),'CODE':'bn-IN'},
{'NAME':this.translateService.instant('bn'),'CODE':'bn'},
{'NAME':this.translateService.instant('bs'),'CODE':'bs'},
{'NAME':this.translateService.instant('bg'),'CODE':'bg'},
{'NAME':this.translateService.instant('my'),'CODE':'my'},
{'NAME':this.translateService.instant('ca-ES'),'CODE':'ca-ES'},
{'NAME':this.translateService.instant('ca'),'CODE':'ca'},
{'NAME':this.translateService.instant('tzm'),'CODE':'tzm'},
{'NAME':this.translateService.instant('chr'),'CODE':'chr'},
{'NAME':this.translateService.instant('cgg'),'CODE':'cgg'},
{'NAME':this.translateService.instant('zh-Hans'),'CODE':'zh-Hans'},
{'NAME':this.translateService.instant('zh-Hans-HK'),'CODE':'zh-Hans-HK'},
{'NAME':this.translateService.instant('zh-Hans-MO'),'CODE':'zh-Hans-MO'},
{'NAME':this.translateService.instant('zh-Hans-SG'),'CODE':'zh-Hans-SG'},
{'NAME':this.translateService.instant('zh-Hant'),'CODE':'zh-Hant'},
{'NAME':this.translateService.instant('zh-Hant-HK'),'CODE':'zh-Hant-HK'},
{'NAME':this.translateService.instant('zh-Hant-MO'),'CODE':'zh-Hant-MO'},
{'NAME':this.translateService.instant('zh'),'CODE':'zh'},
{'NAME':this.translateService.instant('kw'),'CODE':'kw'},
{'NAME':this.translateService.instant('hr-HR'),'CODE':'hr-HR'},
{'NAME':this.translateService.instant('hr'),'CODE':'hr'},
{'NAME':this.translateService.instant('cs'),'CODE':'cs'},
{'NAME':this.translateService.instant('da'),'CODE':'da'},
{'NAME':this.translateService.instant('nl-BE'),'CODE':'nl-BE'},
{'NAME':this.translateService.instant('nl'),'CODE':'nl'},
{'NAME':this.translateService.instant('ebu'),'CODE':'ebu'},
{'NAME':this.translateService.instant('en-AS'),'CODE':'en-AS'},
{'NAME':this.translateService.instant('en-AU'),'CODE':'en-AU'},
{'NAME':this.translateService.instant('en-BE'),'CODE':'en-BE'},
{'NAME':this.translateService.instant('en-BZ'),'CODE':'en-BZ'},
{'NAME':this.translateService.instant('en-BW'),'CODE':'en-BW'},
{'NAME':this.translateService.instant('en-CA'),'CODE':'en-CA'},
{'NAME':this.translateService.instant('en-GU'),'CODE':'en-GU'},
{'NAME':this.translateService.instant('en-HK'),'CODE':'en-HK'},
{'NAME':this.translateService.instant('en-IN'),'CODE':'en-IN'},
{'NAME':this.translateService.instant('en-IE'),'CODE':'en-IE'},
{'NAME':this.translateService.instant('en-IL'),'CODE':'en-IL'},
{'NAME':this.translateService.instant('en-JM'),'CODE':'en-JM'},
{'NAME':this.translateService.instant('en-MT'),'CODE':'en-MT'},
{'NAME':this.translateService.instant('en-MH'),'CODE':'en-MH'},
{'NAME':this.translateService.instant('en-MU'),'CODE':'en-MU'},
{'NAME':this.translateService.instant('en-NA'),'CODE':'en-NA'},
{'NAME':this.translateService.instant('en-NZ'),'CODE':'en-NZ'},
{'NAME':this.translateService.instant('en-MP'),'CODE':'en-MP'},
{'NAME':this.translateService.instant('en-PK'),'CODE':'en-PK'},
{'NAME':this.translateService.instant('en-PH'),'CODE':'en-PH'},
{'NAME':this.translateService.instant('en-SG'),'CODE':'en-SG'},
{'NAME':this.translateService.instant('en-ZA'),'CODE':'en-ZA'},
{'NAME':this.translateService.instant('en-TT'),'CODE':'en-TT'},
{'NAME':this.translateService.instant('en-UM'),'CODE':'en-UM'},
{'NAME':this.translateService.instant('en-VI'),'CODE':'en-VI'},
{'NAME':this.translateService.instant('en-GB'),'CODE':'en-GB'},
{'NAME':this.translateService.instant('en-US'),'CODE':'en-US'},
{'NAME':this.translateService.instant('en-ZW'),'CODE':'en-ZW'},
{'NAME':this.translateService.instant('en'),'CODE':'en'},
{'NAME':this.translateService.instant('eo'),'CODE':'eo'},
{'NAME':this.translateService.instant('et'),'CODE':'et'},
{'NAME':this.translateService.instant('ee-TG'),'CODE':'ee-TG'},
{'NAME':this.translateService.instant('ee'),'CODE':'ee'},
{'NAME':this.translateService.instant('fo'),'CODE':'fo'},
{'NAME':this.translateService.instant('fr-BE'),'CODE':'fr-BE'},
{'NAME':this.translateService.instant('fr-BJ'),'CODE':'fr-BJ'},
{'NAME':this.translateService.instant('fr-BF'),'CODE':'fr-BF'},
{'NAME':this.translateService.instant('fr-BI'),'CODE':'fr-BI'},
{'NAME':this.translateService.instant('fr-CM'),'CODE':'fr-CM'},
{'NAME':this.translateService.instant('fr-CA'),'CODE':'fr-CA'},
{'NAME':this.translateService.instant('fr-CF'),'CODE':'fr-CF'},
{'NAME':this.translateService.instant('fr-TD'),'CODE':'fr-TD'},
{'NAME':this.translateService.instant('fr-KM'),'CODE':'fr-KM'},
{'NAME':this.translateService.instant('fr-CG'),'CODE':'fr-CG'},
{'NAME':this.translateService.instant('fr-CD'),'CODE':'fr-CD'},
{'NAME':this.translateService.instant('fr-CI'),'CODE':'fr-CI'},
{'NAME':this.translateService.instant('fr-DJ'),'CODE':'fr-DJ'},
{'NAME':this.translateService.instant('fr-GQ'),'CODE':'fr-GQ'},
{'NAME':this.translateService.instant('fr-GA'),'CODE':'fr-GA'},
{'NAME':this.translateService.instant('fr-GP'),'CODE':'fr-GP'},
{'NAME':this.translateService.instant('fr-GN'),'CODE':'fr-GN'},
{'NAME':this.translateService.instant('fr-LU'),'CODE':'fr-LU'},
{'NAME':this.translateService.instant('fr-MG'),'CODE':'fr-MG'},
{'NAME':this.translateService.instant('fr-ML'),'CODE':'fr-ML'},
{'NAME':this.translateService.instant('fr-MQ'),'CODE':'fr-MQ'},
{'NAME':this.translateService.instant('fr-MC'),'CODE':'fr-MC'},
{'NAME':this.translateService.instant('fr-NE'),'CODE':'fr-NE'},
{'NAME':this.translateService.instant('fr-RW'),'CODE':'fr-RW'},
{'NAME':this.translateService.instant('fr-RE'),'CODE':'fr-RE'},
{'NAME':this.translateService.instant('fr-BL'),'CODE':'fr-BL'},
{'NAME':this.translateService.instant('fr-MF'),'CODE':'fr-MF'},
{'NAME':this.translateService.instant('fr-SN'),'CODE':'fr-SN'},
{'NAME':this.translateService.instant('fr-CH'),'CODE':'fr-CH'},
{'NAME':this.translateService.instant('fr-TG'),'CODE':'fr-TG'},
{'NAME':this.translateService.instant('fr'),'CODE':'fr'},
{'NAME':this.translateService.instant('ff'),'CODE':'ff'},
{'NAME':this.translateService.instant('gl-ES'),'CODE':'gl-ES'},
{'NAME':this.translateService.instant('gl'),'CODE':'gl'},
{'NAME':this.translateService.instant('lg-UG'),'CODE':'lg-UG'},
{'NAME':this.translateService.instant('lg'),'CODE':'lg'},
{'NAME':this.translateService.instant('ka-GE'),'CODE':'ka-GE'},
{'NAME':this.translateService.instant('ka'),'CODE':'ka'},
{'NAME':this.translateService.instant('de-BE'),'CODE':'de-BE'},
{'NAME':this.translateService.instant('de-LI'),'CODE':'de-LI'},
{'NAME':this.translateService.instant('de-LU'),'CODE':'de-LU'},
{'NAME':this.translateService.instant('de-CH'),'CODE':'de-CH'},
{'NAME':this.translateService.instant('de'),'CODE':'de'},
{'NAME':this.translateService.instant('el-CY'),'CODE':'el-CY'},
{'NAME':this.translateService.instant('el-GR'),'CODE':'el-GR'},
{'NAME':this.translateService.instant('el'),'CODE':'el'},
{'NAME':this.translateService.instant('gu'),'CODE':'gu'},
{'NAME':this.translateService.instant('guz'),'CODE':'guz'},
{'NAME':this.translateService.instant('ha'),'CODE':'ha'},
{'NAME':this.translateService.instant('haw'),'CODE':'haw'},
{'NAME':this.translateService.instant('he'),'CODE':'he'},
{'NAME':this.translateService.instant('hi'),'CODE':'hi'},
{'NAME':this.translateService.instant('hu'),'CODE':'hu'},
{'NAME':this.translateService.instant('is'),'CODE':'is'},
{'NAME':this.translateService.instant('ig'),'CODE':'ig'},
{'NAME':this.translateService.instant('id'),'CODE':'id'},
{'NAME':this.translateService.instant('ga'),'CODE':'ga'},
{'NAME':this.translateService.instant('it-CH'),'CODE':'it-CH'},
{'NAME':this.translateService.instant('it'),'CODE':'it'},
{'NAME':this.translateService.instant('ja'),'CODE':'ja'},
{'NAME':this.translateService.instant('kea'),'CODE':'kea'},
{'NAME':this.translateService.instant('kab'),'CODE':'kab'},
{'NAME':this.translateService.instant('kl'),'CODE':'kl'},
{'NAME':this.translateService.instant('kln'),'CODE':'kln'},
{'NAME':this.translateService.instant('kam'),'CODE':'kam'},
{'NAME':this.translateService.instant('kn'),'CODE':'kn'},
{'NAME':this.translateService.instant('kk'),'CODE':'kk'},
{'NAME':this.translateService.instant('km'),'CODE':'km'},
{'NAME':this.translateService.instant('ki'),'CODE':'ki'},
{'NAME':this.translateService.instant('rw'),'CODE':'rw'},
{'NAME':this.translateService.instant('kok'),'CODE':'kok'},
{'NAME':this.translateService.instant('ko'),'CODE':'ko'},
{'NAME':this.translateService.instant('khq'),'CODE':'khq'},
{'NAME':this.translateService.instant('ses'),'CODE':'ses'},
{'NAME':this.translateService.instant('lag'),'CODE':'lag'},
{'NAME':this.translateService.instant('lv'),'CODE':'lv'},
{'NAME':this.translateService.instant('lt'),'CODE':'lt'},
{'NAME':this.translateService.instant('luo'),'CODE':'luo'},
{'NAME':this.translateService.instant('luy'),'CODE':'luy'},
{'NAME':this.translateService.instant('mk'),'CODE':'mk'},
{'NAME':this.translateService.instant('jmc'),'CODE':'jmc'},
{'NAME':this.translateService.instant('kde'),'CODE':'kde'},
{'NAME':this.translateService.instant('mg'),'CODE':'mg'},
{'NAME':this.translateService.instant('ms-BN'),'CODE':'ms-BN'},
{'NAME':this.translateService.instant('ms'),'CODE':'ms'},
{'NAME':this.translateService.instant('ml'),'CODE':'ml'},
{'NAME':this.translateService.instant('mt'),'CODE':'mt'},
{'NAME':this.translateService.instant('gv-GB'),'CODE':'gv-GB'},
{'NAME':this.translateService.instant('gv'),'CODE':'gv'},
{'NAME':this.translateService.instant('mr'),'CODE':'mr'},
{'NAME':this.translateService.instant('mas-TZ'),'CODE':'mas-TZ'},
{'NAME':this.translateService.instant('mas'),'CODE':'mas'},
{'NAME':this.translateService.instant('mer'),'CODE':'mer'},
{'NAME':this.translateService.instant('mfe'),'CODE':'mfe'},
{'NAME':this.translateService.instant('naq'),'CODE':'naq'},
{'NAME':this.translateService.instant('ne-IN'),'CODE':'ne-IN'},
{'NAME':this.translateService.instant('ne'),'CODE':'ne'},
{'NAME':this.translateService.instant('nd'),'CODE':'nd'},
{'NAME':this.translateService.instant('nb'),'CODE':'nb'},
{'NAME':this.translateService.instant('nn'),'CODE':'nn'},
{'NAME':this.translateService.instant('nyn'),'CODE':'nyn'},
{'NAME':this.translateService.instant('or'),'CODE':'or'},
{'NAME':this.translateService.instant('om-KE'),'CODE':'om-KE'},
{'NAME':this.translateService.instant('om'),'CODE':'om'},
{'NAME':this.translateService.instant('ps'),'CODE':'ps'},
{'NAME':this.translateService.instant('fa-AF'),'CODE':'fa-AF'},
{'NAME':this.translateService.instant('fa-IR'),'CODE':'fa-IR'},
{'NAME':this.translateService.instant('fa'),'CODE':'fa'},
{'NAME':this.translateService.instant('pl'),'CODE':'pl'},
{'NAME':this.translateService.instant('pt-GW'),'CODE':'pt-GW'},
{'NAME':this.translateService.instant('pt-MZ'),'CODE':'pt-MZ'},
{'NAME':this.translateService.instant('pt-PT'),'CODE':'pt-PT'},
{'NAME':this.translateService.instant('pt'),'CODE':'pt'},
{'NAME':this.translateService.instant('pa-Arab'),'CODE':'pa-Arab'},
{'NAME':this.translateService.instant('pa-Guru'),'CODE':'pa-Guru'},
{'NAME':this.translateService.instant('pa'),'CODE':'pa'},
{'NAME':this.translateService.instant('ro-MD'),'CODE':'ro-MD'},
{'NAME':this.translateService.instant('ro'),'CODE':'ro'},
{'NAME':this.translateService.instant('rm'),'CODE':'rm'},
{'NAME':this.translateService.instant('rof'),'CODE':'rof'},
{'NAME':this.translateService.instant('ru-MD'),'CODE':'ru-MD'},
{'NAME':this.translateService.instant('ru-UA'),'CODE':'ru-UA'},
{'NAME':this.translateService.instant('ru'),'CODE':'ru'},
{'NAME':this.translateService.instant('rwk'),'CODE':'rwk'},
{'NAME':this.translateService.instant('saq'),'CODE':'saq'},
{'NAME':this.translateService.instant('sg'),'CODE':'sg'},
{'NAME':this.translateService.instant('seh'),'CODE':'seh'},
{'NAME':this.translateService.instant('sr-Cyrl'),'CODE':'sr-Cyrl'},
{'NAME':this.translateService.instant('sr-Cyrl-BA'),'CODE':'sr-Cyrl-BA'},
{'NAME':this.translateService.instant('sr-Cyrl-ME'),'CODE':'sr-Cyrl-ME'},
{'NAME':this.translateService.instant('sr-Latn'),'CODE':'sr-Latn'},
{'NAME':this.translateService.instant('sr-Latn-BA'),'CODE':'sr-Latn-BA'},
{'NAME':this.translateService.instant('sr-Latn-ME'),'CODE':'sr-Latn-ME'},
{'NAME':this.translateService.instant('sr'),'CODE':'sr'},
{'NAME':this.translateService.instant('sn'),'CODE':'sn'},
{'NAME':this.translateService.instant('ii'),'CODE':'ii'},
{'NAME':this.translateService.instant('si'),'CODE':'si'},
{'NAME':this.translateService.instant('sk'),'CODE':'sk'},
{'NAME':this.translateService.instant('sl'),'CODE':'sl'},
{'NAME':this.translateService.instant('so-DJ'),'CODE':'so-DJ'},
{'NAME':this.translateService.instant('so-ET'),'CODE':'so-ET'},
{'NAME':this.translateService.instant('so-KE'),'CODE':'so-KE'},
{'NAME':this.translateService.instant('so'),'CODE':'so'},
{'NAME':this.translateService.instant('es-AR'),'CODE':'es-AR'},
{'NAME':this.translateService.instant('es-BO'),'CODE':'es-BO'},
{'NAME':this.translateService.instant('es-CL'),'CODE':'es-CL'},
{'NAME':this.translateService.instant('es-CO'),'CODE':'es-CO'},
{'NAME':this.translateService.instant('es-CR'),'CODE':'es-CR'},
{'NAME':this.translateService.instant('es-DO'),'CODE':'es-DO'},
{'NAME':this.translateService.instant('es-EC'),'CODE':'es-EC'},
{'NAME':this.translateService.instant('es-SV'),'CODE':'es-SV'},
{'NAME':this.translateService.instant('es-GQ'),'CODE':'es-GQ'},
{'NAME':this.translateService.instant('es-GT'),'CODE':'es-GT'},
{'NAME':this.translateService.instant('es-HN'),'CODE':'es-HN'},
{'NAME':this.translateService.instant('es-419'),'CODE':'es-419'},
{'NAME':this.translateService.instant('es-MX'),'CODE':'es-MX'},
{'NAME':this.translateService.instant('es-NI'),'CODE':'es-NI'},
{'NAME':this.translateService.instant('es-PA'),'CODE':'es-PA'},
{'NAME':this.translateService.instant('es-PY'),'CODE':'es-PY'},
{'NAME':this.translateService.instant('es-PE'),'CODE':'es-PE'},
{'NAME':this.translateService.instant('es-PR'),'CODE':'es-PR'},
{'NAME':this.translateService.instant('es-US'),'CODE':'es-US'},
{'NAME':this.translateService.instant('es-UY'),'CODE':'es-UY'},
{'NAME':this.translateService.instant('es-VE'),'CODE':'es-VE'},
{'NAME':this.translateService.instant('es'),'CODE':'es'},
{'NAME':this.translateService.instant('sw-KE'),'CODE':'sw-KE'},
{'NAME':this.translateService.instant('sw'),'CODE':'sw'},
{'NAME':this.translateService.instant('sv-FI'),'CODE':'sv-FI'},
{'NAME':this.translateService.instant('sv'),'CODE':'sv'},
{'NAME':this.translateService.instant('gsw'),'CODE':'gsw'},
{'NAME':this.translateService.instant('shi-Latn'),'CODE':'shi-Latn'},
{'NAME':this.translateService.instant('shi-Tfng'),'CODE':'shi-Tfng'},
{'NAME':this.translateService.instant('shi'),'CODE':'shi'},
{'NAME':this.translateService.instant('dav'),'CODE':'dav'},
{'NAME':this.translateService.instant('ta-LK'),'CODE':'ta-LK'},
{'NAME':this.translateService.instant('ta'),'CODE':'ta'},
{'NAME':this.translateService.instant('te'),'CODE':'te'},
{'NAME':this.translateService.instant('teo-KE'),'CODE':'teo-KE'},
{'NAME':this.translateService.instant('teo'),'CODE':'teo'},
{'NAME':this.translateService.instant('th'),'CODE':'th'},
{'NAME':this.translateService.instant('bo-IN'),'CODE':'bo-IN'},
{'NAME':this.translateService.instant('bo'),'CODE':'bo'},
{'NAME':this.translateService.instant('ti-ER'),'CODE':'ti-ER'},
{'NAME':this.translateService.instant('ti'),'CODE':'ti'},
{'NAME':this.translateService.instant('to'),'CODE':'to'},
{'NAME':this.translateService.instant('tr'),'CODE':'tr'},
{'NAME':this.translateService.instant('uk'),'CODE':'uk'},
{'NAME':this.translateService.instant('ur-IN'),'CODE':'ur-IN'},
{'NAME':this.translateService.instant('ur'),'CODE':'ur'},
{'NAME':this.translateService.instant('uz-Arab'),'CODE':'uz-Arab'},
{'NAME':this.translateService.instant('uz-Cyrl'),'CODE':'uz-Cyrl'},
{'NAME':this.translateService.instant('uz-Latn'),'CODE':'uz-Latn'},
{'NAME':this.translateService.instant('uz'),'CODE':'uz'},
{'NAME':this.translateService.instant('vi'),'CODE':'vi'},
{'NAME':this.translateService.instant('vun'),'CODE':'vun'},
{'NAME':this.translateService.instant('cy'),'CODE':'cy'},
{'NAME':this.translateService.instant('yo'),'CODE':'yo'},
{'NAME':this.translateService.instant('zu'),'CODE':'zu'},
  ];

  public generalSettingsForm: FormGroup;
  public subdomain: string;
  public params = {
    language: {},
    timezone: {},
    locale:{}
  };

  constructor(
    private translateService: TranslateService,
    private formBuilder: FormBuilder,
    private companiesService: CompaniesService,
    private bannerMessageService: BannerMessageService
  ) {
    // needs to subscribe here to get the translation once the actual file is loaded
    // if using instant outside it wont get the trasnlation.
    this.translateService.get('LANGUAGE').subscribe((value: string) => {
      this.params['language']['field'] = value;
    });

    this.translateService.get('TIMEZONE').subscribe((value: string) => {
      this.params['timezone']['field'] = value;
    });

    this.translateService.get('LOCALE').subscribe((value: string) => {
      this.params['locale']['field'] = value;
    });
  }

  public ngOnInit() {
    this.languageObject.sort(function(l1, l2) {
      return l1['NAME'] < l2['NAME'] ? -1 : l1['NAME'] > l2['NAME'] ? 1 : 0;
    });

    this.generalSettingsForm = this.formBuilder.group({
      LANGUAGE: ['', [Validators.required]],
      TIMEZONE: ['', [Validators.required]],
      LOCALE: ['', [Validators.required]]
    });
    // add languages
    this.translateService.addLangs([
      'ar',
      'de',
      'el',
      'en',
      'es',
      'fr',
      'hi',
      'it',
      'ms',
      'no',
      'pt',
      'ru',
      'zh'
    ]);

    this.companiesService.getGeneralSettings().subscribe(
      (settings: any) => {
        this.generalSettingsForm.controls['TIMEZONE'].setValue(
          settings.TIMEZONE
        );
        this.generalSettingsForm.controls['LANGUAGE'].setValue(
          settings.LANGUAGE
        );
        this.generalSettingsForm.controls['LOCALE'].setValue(
        settings.LOCALE
        );
        
      },
      (error: any) => {
        // set default language if no language is found
        this.generalSettingsForm.setValue({ LANGUAGE: 'en' });
      }
    );
  }

  public saveGeneralSettings() {
    this.companiesService
      .putGeneralSettings(this.generalSettingsForm.value)
      .subscribe(
        (putLanguageReponse: any) => {
          this.translateService.use(this.generalSettingsForm.value.LANGUAGE);
          this.bannerMessageService.successNotifications.push({
            message: this.translateService.instant('SETTINGS_SAVE_SUCCESS')
          });
          this.companiesService.setlocale(this.generalSettingsForm.value.LOCALE);
          if (this.generalSettingsForm.value.LOCALE !== 'en-US') {
            import(`@angular/common/locales/${this.generalSettingsForm.value.LOCALE}.js`).then(
              module => {
                registerLocaleData(module.default);
              }
            );
          }
        },
        (error: any) => {
          this.bannerMessageService.errorNotifications.push({
            message: error.error.ERROR
          });
        }
      );
  }
}
